**介绍：**HTML5新增了‘应用程序缓存’，允许web应用将应用程序自身本地保存到用户的浏览器中，不是像localstorage一样保存web应用程序的相关数据，他是将应用程序自身保存起来——应用程序所需运行的所有文件（HTML，CSS，JavaScript、图片）。应用程序缓存和一般浏览器缓存不同：不会随着用户清除浏览器而被清除，缓存起来的应用程序也不会像一般固定大小的缓存那样，老数据会被最近一次访问的新数据替代掉，应该称为应用程序存储。

### HTML5的离线储存怎么使用，工作原理解释下

**使用：**

​    1.页面头部下面添加一个manifest属性；

​    2.在cache.manifest文件的编写离线存储的资源

```js
<!DOCTYPE HTML>
<html manifest = "cache.manifest">
...
<html>
```

然后cache.manifest 文件的书写方式如下：

```
CACHE MANIFEST
#v0.11

CACHE:

js/app.js
css/style.css

NETWORK:
resourse/logo.png

FALLBACK:
/ /offline.html
```

**说明：**

  离线存储的manifest一般有三个部分组成：

- cacahe:表示需要离线存储的资源列表，  由于包含manifest文件的页面将被自动离线存储，所以不需要把页面自身也列出来
- NETWORK：表示在它下面列出来的资源只有在在线的情况下才能访问，它们不会被离线存储，所以在离线情况下无法使用这些资源，那么这个资源还是会被离线存储，也就是说CACHE的优先级更高，
- FALLBACK:  表示如果访问第一个资源失败了，那么就使用第二个资源替换他  用offline.html



**原理:**

​      HTML5的离线缓存是基于一个新建的  appcache文件的缓存机制（不是缓存技术），通过这个文件上解析清单离线存储资源，这些资源就会像Cookie一样被存储下来。之后当网络再出与离线状态下时，浏览器会通过离线存储的数据进行页面展示。

​    就像cookie一样，html5的离线存储也需要服务器环境，

### 浏览器是怎么对`HTML5`的离线储存资源进行管理和加载的呢

- 在线的情况下，浏览器发现`html`头部有`manifest`属性，它会请求`manifest`文件，如果是第一次访问`app`，那么浏览器就会根据manifest文件的内容下载相应的资源并且进行离线存储。如果已经访问过`app`并且资源已经离线存储了，那么浏览器就会使用离线的资源加载页面，然后浏览器会对比新的`manifest`文件与旧的`manifes`t文件，如果文件没有发生改变，就不做任何操作，如果文件改变了，那么就会重新下载文件中的资源并进行离线存储。
- 离线的情况下，浏览器就直接使用离线存储的资源。